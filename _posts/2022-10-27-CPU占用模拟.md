---
layout: post
title: 模拟CPU占用                                # Title of the page
hide_title: false                                  # Hide the title when displaying the post, but shown in lists of posts
bootstrap: true                                   # Add bootstrap to the page
tags: [CPU, 工具, windows]
published: true
excerpt_separator: <!--more-->
---

<!--more-->
* TOC
{:toc}

分享2个模拟CPU占用的工具。

# 1. [CPUSTRES](https://download.sysinternals.com/files/CPUSTRES.zip)

这个是从微软官网找到的Sysinternals系列工具之一。通过按钮创建线程，可指定Affinity亲和性(运行在哪些CPU核)、优先级Priority、Activity级别即负载程度。

![cpustress](/assets/img/post/2022-10-27-模拟CPU占用/cpustress.png)

当把某个线程Affinity指定到CPU 0、Activity改为Maximum，开启运行后，任务管理器中可看到第一个核的占用升高到100%：

![cpu0](/assets/img/post/2022-10-27-模拟CPU占用/cpustress_cpu0.png)

# 2. [HeavyLoad](https://downloads.jam-software.de/heavyload/HeavyLoad-x64-Setup.exe)

支持模拟CPU、文件读写、TreeSize检测文件系统变化、内存、GPU，并实时绘制占用图。通过**Test Options**菜单和工具栏，选择模拟种类。

![heavyload](/assets/img/post/2022-10-27-模拟CPU占用/heavyload.png)

下图模拟了CPU占用率

![heavyload_run](/assets/img/post/2022-10-27-模拟CPU占用/heavyload_run.png)

通过**Tools**->**Options**->**CPU**，可选择使用几个逻辑CPU，假设1个物理CPU有12个核，这里填写2，使得HeavyLoad占用16%的CPU，填写3，HeavyLoad将会占用25%的CPU。注意仅仅是HeavyLoad软件，而不是整个电脑CPU占用比。

![option_cpu](/assets/img/post/2022-10-27-模拟CPU占用/option_cpu.png)

如果你选择了**TreeSize**，很有趣，会为每个分区弹出一个GUI，刷新显示分区每个文件夹占用空间。

![treesize](/assets/img/post/2022-10-27-模拟CPU占用/treesize.png)
